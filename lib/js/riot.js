'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _compilerBase = require('../compiler-base');

const inputMimeTypes = ['text/riot'];
let riot = null;

class RiotCompiler extends _compilerBase.SimpleCompilerBase {
  constructor() {
    super();
  }

  static getInputMimeTypes() {
    return inputMimeTypes;
  }

  compileSync(sourceCode) {
    riot = riot || require('riot');

    const js = riot.compile(sourceCode, true);

    return {
      code: js,
      mimeType: 'application/javascript'
    };
  }

  getCompilerVersion() {
    return require('riot/package.json').version;
  }
}
exports.default = RiotCompiler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy9yaW90LmpzIl0sIm5hbWVzIjpbImlucHV0TWltZVR5cGVzIiwicmlvdCIsIlJpb3RDb21waWxlciIsImNvbnN0cnVjdG9yIiwiZ2V0SW5wdXRNaW1lVHlwZXMiLCJjb21waWxlU3luYyIsInNvdXJjZUNvZGUiLCJyZXF1aXJlIiwianMiLCJjb21waWxlIiwiY29kZSIsIm1pbWVUeXBlIiwiZ2V0Q29tcGlsZXJWZXJzaW9uIiwidmVyc2lvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsaUJBQWlCLENBQUMsV0FBRCxDQUF2QjtBQUNBLElBQUlDLE9BQU8sSUFBWDs7QUFFZSxNQUFNQyxZQUFOLDBDQUE4QztBQUMzREMsZ0JBQWM7QUFDWjtBQUNEOztBQUVELFNBQU9DLGlCQUFQLEdBQTJCO0FBQ3pCLFdBQU9KLGNBQVA7QUFDRDs7QUFFREssY0FBWUMsVUFBWixFQUF3QjtBQUN0QkwsV0FBT0EsUUFBUU0sUUFBUSxNQUFSLENBQWY7O0FBRUEsVUFBTUMsS0FBS1AsS0FBS1EsT0FBTCxDQUFhSCxVQUFiLEVBQXlCLElBQXpCLENBQVg7O0FBRUEsV0FBTztBQUNMSSxZQUFNRixFQUREO0FBRUxHLGdCQUFVO0FBRkwsS0FBUDtBQUlEOztBQUVEQyx1QkFBcUI7QUFDbkIsV0FBT0wsUUFBUSxtQkFBUixFQUE2Qk0sT0FBcEM7QUFDRDtBQXRCMEQ7a0JBQXhDWCxZIiwiZmlsZSI6InJpb3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NpbXBsZUNvbXBpbGVyQmFzZX0gZnJvbSAnLi4vY29tcGlsZXItYmFzZSc7XG5cbmNvbnN0IGlucHV0TWltZVR5cGVzID0gWyd0ZXh0L3Jpb3QnXTtcbmxldCByaW90ID0gbnVsbDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmlvdENvbXBpbGVyIGV4dGVuZHMgU2ltcGxlQ29tcGlsZXJCYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnB1dE1pbWVUeXBlcygpIHtcbiAgICByZXR1cm4gaW5wdXRNaW1lVHlwZXM7XG4gIH1cblxuICBjb21waWxlU3luYyhzb3VyY2VDb2RlKSB7XG4gICAgcmlvdCA9IHJpb3QgfHwgcmVxdWlyZSgncmlvdCcpO1xuXG4gICAgY29uc3QganMgPSByaW90LmNvbXBpbGUoc291cmNlQ29kZSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29kZToganMsXG4gICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnXG4gICAgfTtcbiAgfVxuXG4gIGdldENvbXBpbGVyVmVyc2lvbigpIHtcbiAgICByZXR1cm4gcmVxdWlyZSgncmlvdC9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuICB9XG59XG4iXX0=